query devicesList {
  me {
    id
    masterDeviceId
    devices {
      id
      name
      lastIpAddress
      logoutAt
      platform
      lastGeoLocation
    }
  }
}

query deviceInfo($id: String!) {
  me {
    id
    device(id: $id) {
      id
      name
      firstIpAddress
      lastIpAddress
      logoutAt
      lastGeoLocation
      createdAt
      lastSyncAt
      platform
      createdAt
      syncTOTP
      vaultLockTimeoutSeconds
    }
  }
}

mutation RejectChallenge($id: Int!) {
  me {
    decryptionChallenge(id: $id) {
      reject {
        id
      }
    }
  }
}

mutation ApproveChallenge($id: Int!) {
  me {
    decryptionChallenge(id: $id) {
      approve {
        id
      }
    }
  }
}

query DevicesRequests {
  me {
    id
    masterDeviceId
    decryptionChallengesWaiting {
      id
      createdAt
      deviceName
      deviceId
      ipAddress
      ipGeoLocation
    }
  }
}

mutation logoutDevice($id: String!) {
  me {
    device(id: $id) {
      logout {
        id
      }
    }
  }
}

mutation removeDevice($id: String!) {
  me {
    device(id: $id) {
      removeDevice
    }
  }
}

mutation ChangeMasterDevice($newMasterDeviceId: String!) {
  me {
    setMasterDevice(newMasterDeviceId: $newMasterDeviceId) {
      id
    }
  }
}

mutation changeDeviceSettings(
  $id: String!
  $syncTOTP: Boolean!
  $vaultLockTimeoutSeconds: Int!
) {
  me {
    device(id: $id) {
      updateDeviceSettings(
        syncTOTP: $syncTOTP
        vaultLockTimeoutSeconds: $vaultLockTimeoutSeconds
      ) {
        id
      }
    }
  }
}
